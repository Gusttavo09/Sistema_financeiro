<!DOCTYPE html>
<html lang="pt-BR">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Controle Financeiro</title>
	<link rel="stylesheet" href="style.css">
</head>

<body>
	<header class="site-header">
		<div class="container header-inner">
			<h1 class="logo">FinSort</h1>
			<div class="header-actions">
			</div>
		</div>
	</header>

	<main class="container">

		<!-- Metrics dashboard -->
		<section class="panel metrics-panel">
			<div class="metrics-grid">
				<div class="metric-card">
					<h3>Balanço</h3>
					<div class="balance-row">
						<div>
							<span class="muted">Entradas</span>
							<div class="balance-value" id="bal-entradas">R$ 0,00</div>
						</div>
						<div>
							<span class="muted">Saídas</span>
							<div class="balance-value" id="bal-saidas">R$ 0,00</div>
						</div>
					</div>
					<div class="saldo">
						<span class="muted">Saldo</span>
						<div class="saldo-value" id="bal-saldo">R$ 0,00</div>
					</div>
				</div>

				<div class="metric-card">
					<h3>Gastos por categoria</h3>
					<div class="category-list" id="categoryList">
						<!-- categorias padrão baseadas no enum -->
						<div class="category-item">
							<div class="cat-info"><strong>Receitas</strong><span>R$ 0,00</span></div>
							<div class="cat-bar"><div class="bar-fill" style="width:2%"></div></div>
						</div>
						<div class="category-item">
							<div class="cat-info"><strong>Saúde</strong><span>R$ 0,00</span></div>
							<div class="cat-bar"><div class="bar-fill" style="width:2%"></div></div>
						</div>
						<div class="category-item">
							<div class="cat-info"><strong>Lazer</strong><span>R$ 0,00</span></div>
							<div class="cat-bar"><div class="bar-fill" style="width:2%"></div></div>
						</div>
						<div class="category-item">
							<div class="cat-info"><strong>Mercado</strong><span>R$ 0,00</span></div>
							<div class="cat-bar"><div class="bar-fill" style="width:2%"></div></div>
						</div>
						<div class="category-item">
							<div class="cat-info"><strong>Outros</strong><span>R$ 0,00</span></div>
							<div class="cat-bar"><div class="bar-fill" style="width:2%"></div></div>
						</div>
						<div class="category-item">
							<div class="cat-info"><strong>Transporte</strong><span>R$ 0,00</span></div>
							<div class="cat-bar"><div class="bar-fill" style="width:2%"></div></div>
						</div>
						<div class="category-item">
							<div class="cat-info"><strong>Casa</strong><span>R$ 0,00</span></div>
							<div class="cat-bar"><div class="bar-fill" style="width:2%"></div></div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<div class="main-grid">
			<section class="panel form-panel">
			<h2>Nova Transação</h2>

			<div id="alert" class="alert" role="status" aria-live="polite"></div>

			<form id="formTransacao">
				<div class="form-row">
					<label for="descricao">Descrição</label>
					<input type="text" id="descricao" name="descricao" required>
				</div>

				<div class="form-row form-split">
					<div>
						<label for="tipo">Tipo</label>
						<select id="tipo" name="tipo" required>
							<option value="entrada">Entrada</option>
							<option value="saida">Saída</option>
						</select>
					</div>
					<div>
						<label for="categoria">Categoria</label>
						<select id="categoria" name="categoria" required>
							<option value="receitas">Receitas</option>
							<option value="saude">Saúde</option>
							<option value="lazer">Lazer</option>
							<option value="mercado">Mercado</option>
							<option value="outros">Outros</option>
							<option value="transporte">Transporte</option>
							<option value="casa">Casa</option>
						</select>
					</div>
				</div>

				<div class="form-row form-split">
					<div>
						<label for="valor">Valor (R$)</label>
						<input type="number" id="valor" name="valor" step="0.01" required>
					</div>
					<div>
						<label for="data">Data</label>
						<input type="date" id="data" name="data" required>
					</div>
				</div>

				<div class="form-row form-actions">
					<button type="submit" class="btn btn-primary">Adicionar</button>
					<button type="button" id="resetForm" class="btn btn-ghost">Limpar</button>
				</div>
			</form>
		</section>

		<section class="panel list-panel">
			<div class="list-controls">
				<div class="left-controls">
					<input id="search" type="search" placeholder="Pesquisar por descrição...">
				</div>

				<div class="right-controls">
					<label>Ordenar:</label>
					<select id="sortBy">
						<option value="biggerValue">Valor: Maior → Menor</option>
						<option value="lowerValue">Valor: Menor → Maior</option>
						<option value="newestDate">Data: Mais recentes</option>
						<option value="oldestDate">Data: Mais antigas</option>
					</select>

					<label>Por página:</label>
					<select id="pageSize">
						<option value="5">5</option>
						<option value="10" selected>10</option>
						<option value="20">20</option>
					</select>
				</div>
			</div>

			<div class="table-wrap">
				<table id="transacoesTable">
					<thead>
						<tr>
							<th>Descrição</th>
							<th>Tipo</th>
							<th>Categoria</th>
							<th>Valor</th>
							<th>Data</th>
							<th style="width:140px">Ações</th>
						</tr>
					</thead>
					<tbody>
						<!-- linhas serão inseridas via JS -->
					</tbody>
				</table>
			</div>

			<div class="pagination" id="pagination"></div>
		</section>
			</div> <!-- .main-grid -->
	</main>

	<!-- Edit modal -->
	<div id="modal" class="modal hidden">
		<div class="modal-content">
			<h3>Editar Transação</h3>
			<form id="formEdit">
				<input type="hidden" id="editId">
				<div class="form-row">
					<label for="editDescricao">Descrição</label>
					<input type="text" id="editDescricao" required>
				</div>
				<div class="form-row form-split">
					<div>
						<label for="editTipo">Tipo</label>
						<select id="editTipo" required>
							<option value="entrada">Entrada</option>
							<option value="saida">Saída</option>
						</select>
					</div>
					<div>
						<label for="editCategoria">Categoria</label>
							<select id="editCategoria" required>
								<option value="receitas">Receitas</option>
								<option value="saude">Saúde</option>
								<option value="lazer">Lazer</option>
								<option value="mercado">Mercado</option>
								<option value="outros">Outros</option>
								<option value="transporte">Transporte</option>
								<option value="casa">Casa</option>
							</select>
					</div>
				</div>
				<div class="form-row form-split">
					<div>
						<label for="editValor">Valor (R$)</label>
						<input type="number" id="editValor" step="0.01" required>
					</div>
					<div>
						<label for="editData">Data</label>
						<input type="date" id="editData" required>
					</div>
				</div>
				<div class="form-row form-actions">
					<button type="submit" class="btn btn-primary">Salvar</button>
					<button type="button" id="closeModal" class="btn btn-ghost">Cancelar</button>
				</div>
			</form>
		</div>
	</div>

	<script src="script.js"></script>
</body>

</html>

